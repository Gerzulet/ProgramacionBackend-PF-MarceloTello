<div class="container">
    {{#if user}}
        <div class="containerWelcome">
            <h2>Bienvenido {{user.first_name}} {{user.last_name}}</h2>
        </div>

        {{#if user.cartId}}
            <nav>
                <div class="buttonNav">
                    <a href="/cart/{{user.cartId}}">Mi Carrito</a>
                </div>
                <div class="buttonNav">
                    <a href="/profile">Perfil</a>
                </div>
            </nav>
        {{/if}}
    {{else}}
        <h2 class="containerWelcome">Bienvenido Invitado</h2>
        <nav>
            <div class="buttonNav">
                <a href="/cart/{{user.cartId}}">Mi Carrito</a>
            </div>
            <div class="buttonNav">
                <a href="/login">Iniciar Sesion</a>
            </div>
        </nav>
    {{/if}}

<div class="container">
    <h1 class="title">Productos</h1>

    {{#if isValid}}
        <ul class="productList">

            {{#each products}}
            <div class="product">
                <h3>{{title}}</h3>
                <p>Precio: {{price}}</p>
                <p>Descripci√≥n: {{description}}</p>
                <p>Disponibles: {{stock}}</p>
                <button class="add-to-cart" data-product-id="{{_id}}">Agregar al carrito</button>
            </div>
            {{/each}}
        </ul>

        <hr>
        
        <div class="buttonsPag">
            <div class="buttonPaginate">
                {{#if hasPrevPage}}
                    <a href="{{this.prevLink}}"><< Anterior</a>
                {{/if}}
            </div>
            <div class="buttonPaginate">
                {{#if hasNextPage}}
                    <a href="{{this.nextLink}}">Siguiente >></a>
                {{/if}}
            </div>
        </div>
    {{else}}
        <h2>No hay productos para mostrar</h2>
    {{/if}}
</div>
<script src="/js/index.js">
</script>